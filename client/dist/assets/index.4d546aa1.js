var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,c=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&s(e,a,t[a]);if(l)for(var a of l(t))n.call(t,a)&&s(e,a,t[a]);return e},m=(e,l)=>t(e,a(l));import{R as o,L as i,r as d,a as u,N as p,l as g,b as x,c as f,B as v,S as E,d as h}from"./vendor.6a1f7b37.js";const w=({name:e,icon:t,url:a})=>o.createElement("nav",{className:"w-full mb-4 text-gray-500 flex justify-between items-center"},o.createElement("h3",{className:"head-title font-bold flex uppercase"},o.createElement("span",{className:"title-icon"},t),e),a?o.createElement(i,{to:a},"Back"):null);var b="/assets/poster-video.a403a0ce.png";function N({view:e,videoData:t}){const{_id:a,author:l,name:r,description:n,category:s,video:c,created:m}=t,[u,p]=d.exports.useState(!0);return setTimeout((()=>{p(!1)}),1200),u?o.createElement("div",{className:"video animate-pulse flex p-4 shadow-lg rounded-md border-default border-gray-200 bg-white transition ease-in-out hover:bg-gray-100"},o.createElement("div",{className:"video-preview flex w-2/5 h-52 bg-gray-200"}),o.createElement("div",{className:"video__content w-3/5 px-4"},o.createElement("h3",{className:"video__title text-md font-bold leading-tight mt-4 mb-2 h-10 bg-gray-200"}),o.createElement("p",{className:"video__par text-sm text-gray-400 lowercase h-32 bg-gray-200"}),o.createElement("span",{className:"video__date text-sm text-c2"}))):"videos"==e?o.createElement("div",{className:"video flex p-4 shadow-lg rounded-md border-default border-gray-200 bg-white transition ease-in-out hover:bg-gray-100"},o.createElement(i,{to:`/video/${a}`,className:"video__thumbnail relative flex w-2/5 max-w-xs  max-h-32",href:"#"},o.createElement("span",{className:"absolute top-0 right-0 m-2 bg-c1 px-2 text-white text-sm rounded-md"},s),o.createElement("span",{className:"video-icon absolute w-full flex justify-center items-center h-full"},o.createElement("img",{className:"rounded-lg w-12",src:"/assets/scale.06462aff.svg",alt:"icon"})),o.createElement("img",{className:"rounded-lg w-full",src:b,alt:r})),o.createElement("div",{className:"video__content w-3/5 px-4"},o.createElement("div",{className:"video__option flex justify-between"},o.createElement("span",{className:"m-1 bg-c1 p-1 text-white text-sm rounded-md"},s),o.createElement("span",{className:"option-control flex justify-between"},o.createElement("button",{className:"text-gray-300 hover:text-c4 flex items-center mr-2",onClick:()=>{return e=l,void console.log("edit",e);var e}},o.createElement("svg",{className:"w-5 fill-current",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M14.707,5.293a1,1,0,0,0-1.414,0l-12,12A1,1,0,0,0,1,18v4a1,1,0,0,0,1,1H6a1,1,0,0,0,.707-.293l12-12a1,1,0,0,0,0-1.414ZM5.586,21H3V18.414l11-11L16.586,10Z"}),o.createElement("path",{d:"M22.707,5.293l-4-4a1,1,0,0,0-1.414,0l-2,2a1,1,0,0,0,1.414,1.414L18,3.414,20.586,6,19.293,7.293a1,1,0,1,0,1.414,1.414l2-2A1,1,0,0,0,22.707,5.293Z"}))),o.createElement("button",{className:"text-gray-300 hover:text-c3 flex items-center",onClick:()=>{return e=l,void console.log("delete",e);var e}},o.createElement("svg",{className:"w-5 fill-current",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M19,7a1,1,0,0,0-1,1V19.191A1.92,1.92,0,0,1,15.99,21H8.01A1.92,1.92,0,0,1,6,19.191V8A1,1,0,0,0,4,8V19.191A3.918,3.918,0,0,0,8.01,23h7.98A3.918,3.918,0,0,0,20,19.191V8A1,1,0,0,0,19,7Z"}),o.createElement("path",{d:"M20,4H16V2a1,1,0,0,0-1-1H9A1,1,0,0,0,8,2V4H4A1,1,0,0,0,4,6H20a1,1,0,0,0,0-2ZM10,4V3h4V4Z"}),o.createElement("path",{d:"M11,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z"}),o.createElement("path",{d:"M15,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z"}))))),o.createElement("h3",{className:"video__title text-md font-bold leading-tight mt-4 mb-2 uppercase break-word"},r),o.createElement("p",{className:"video__par text-sm text-gray-400 lowercase break-word"},n),o.createElement("span",{className:"video__date text-sm text-c2"},"Published: ",m))):o.createElement("div",{className:"video p-4 shadow-lg rounded-md border-default border-gray-200 transition ease-in-out hover:bg-gray-100"},o.createElement(i,{to:`/video/${a}`,className:"video__thumbnail relative flex",href:"#"},o.createElement("span",{className:"absolute top-0 right-0 m-2 bg-c1 px-2 text-white text-sm rounded-md"},s),o.createElement("span",{className:"video-icon absolute w-full flex justify-center items-center h-full"},o.createElement("img",{className:"rounded-lg w-12",src:"/assets/scale.06462aff.svg",alt:"icon"})),o.createElement("img",{className:"rounded-lg w-full",src:b,alt:r})),o.createElement("div",{className:"video__content"},o.createElement("h3",{className:"video__title text-md font-bold leading-tight mt-4 mb-2 uppercase break-word"},r),o.createElement("p",{className:"video__par text-sm text-gray-400 lowercase break-word"},n),o.createElement("span",{className:"video__date text-sm text-c2"},"Published: ",m)))}const y=u.create({baseURL:"http://localhost:4000"}),_=u.create({baseURL:"https://api.cloudinary.com/v1_1/bairon-dev"}),A=o.createElement("svg",{className:"w-5 fill-current mr-2",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M22.669,10.257l-10-9a1,1,0,0,0-1.338,0l-10,9a1,1,0,0,0,1.338,1.486L12,3.345l9.331,8.4a1,1,0,0,0,1.338-1.486Z"}),o.createElement("path",{d:"M20,13a1,1,0,0,0-1,1v5.774A1.227,1.227,0,0,1,17.774,21H6.226A1.227,1.227,0,0,1,5,19.774V14a1,1,0,0,0-2,0v5.774A3.229,3.229,0,0,0,6.226,23H17.774A3.229,3.229,0,0,0,21,19.774V14A1,1,0,0,0,20,13Z"})),S=()=>{let e=!1;const[t,a]=d.exports.useState([]);return d.exports.useEffect((()=>{(async()=>{try{const t=await y.get("/api/videos");e=!0,a(t.data)}catch(t){console.log(t)}})()}),[e]),o.createElement("section",{className:"bg-white border-default rounded-lg h-full px-4 md:px-8 py-4 mt-4 md:mt-2"},o.createElement(w,{name:"Home",icon:A,url:""}),0===t.length?o.createElement("div",{className:"info flex justify-center items-center",style:{minHeight:"70vh"}},o.createElement("div",{className:"max-w-md flex-column justify-center items-center text-gray-500"},o.createElement("span",{className:"info-icon block w-32 md:w-40 mx-auto"},o.createElement("svg",{className:"fill-current w-full",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 512 512"},o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M111.302,494c-0.568,0-1.14-0.121-1.673-0.367c-1.298-0.599-2.179-1.844-2.31-3.268L99.4,404H30c-2.209,0-4-1.791-4-4      V30c0-2.209,1.791-4,4-4h460c2.209,0,4,1.791,4,4v370c0,2.209-1.791,4-4,4H239.758l-126.145,89.266      C112.926,493.752,112.116,494,111.302,494z M34,396h69.05c2.067,0,3. 794,1.576,3.983,3.635l7.619,83.095l121.523-85.995      c0.676-0.478,1.483-0.734,2.311-0.734H486V34H34V396z"})),o.createElement("g",null,o.createElement("path",{d:"M450,324H70c-2.209,0-4-1.791-4-4V70c0-2.209,1.791-4,4-4h380c2.209,0,4,1.791,4,4v250C454,322.209,452.209,324,450,324      z M74,316h372V74H74V316z"})),o.createElement("g",null,o.createElement("path",{d:"M208.49,284c-0.69,0-1.381-0.179-2-0.536c-1.238-0.714-2-2.035-2-3.464V116.599c0-1.429,0.762-2.75,2-3.464      c1.237-0.715,2.763-0.715,4,0L352,194.835c1.237,0.714,2,2.035,2,3.464s-0.763,2.75-2,3.464l-141.51,81.701      C209.872,283.821,209.181,284,208.49,284z M212.49,123.527v149.545L342,198.299L212.49,123.527z"}))))))),o.createElement("h3",{className:"text-center mt-4 font-bold text-xl"},"You still have no videos :("),o.createElement(p,{className:"bg-c2 block text-center cursor-pointer text-white text-xl font-bold shadow-md mt-4 rounded-md py-1 px-8",to:"upload"},"Create video"))):o.createElement(o.Fragment,null,o.createElement("div",{className:"videos__list grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},t.map(((e,t)=>o.createElement(N,{key:t,view:"home",videoData:e}))))))};var V="/assets/bg-01.23e95b38.jpg";const k=o.createContext({token:"",authenticated:null,user:{name:""},msg:{type:"",msg:""},load:!0,userRegister:()=>{},userAuthenticated:()=>{},userSignOn:()=>{},userSignOff:()=>{}});var L="/assets/logo-main.3eab5699.svg";function C(){const e=d.exports.useContext(k),{user:t,userAuthenticated:a,userSignOff:l}=e;return d.exports.useEffect((()=>{a()}),[]),o.createElement(o.Fragment,null,o.createElement("header",{className:"sidebar-head w-full fixed top-0 left-0 z-50 bg-white flex justify-between p-4 shadow-md"},o.createElement("div",{className:"sidebar-brand flex"},o.createElement("h2",{className:"head__logo"},o.createElement("img",{className:"w-36",src:L,alt:"Univision Logo"}))),o.createElement("span",{className:"sidebar-option flex"},t?o.createElement(o.Fragment,null,o.createElement("button",{className:"head-title transition ease-in font-bold text-c2 hover:text-gray-800 flex mr-4",onClick:()=>l()},o.createElement("span",{className:"title-icon"},o.createElement("svg",{className:"w-5 fill-current",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100"},o.createElement("g",{transform:"translate(0,-952.36218)"},o.createElement("path",{d:"m 65.165071,958.36218 c 9.249697,0 16.834925,7.58604 16.834925,16.80899 l 0,54.34793 c 0,9.2542 -7.585228,16.8431 -16.834925,16.8431 l -30.364264,0 c -9.218408,0 -16.800803,-7.5889 -16.800803,-16.8431 l 0,-54.34793 c 0,-9.22295 7.582394,-16.80899 16.800803,-16.80899 l 30.364264,0 z m 0,5.45525 -30.364264,0 c -6.237708,0 -11.34822,5.11299 -11.34822,11.35374 l 0,54.34793 c 0,6.2868 5.110512,11.3878 11.34822,11.3878 l 30.364264,0 c 6.283807,0 11.382342,-5.101 11.382342,-11.3878 l 0,-24.4463 -33.567732,0 8.656157,8.5579 a 2.7350955,2.7364202 0 1 1 -3.850937,3.8868 l -13.358939,-13.2289 a 2.7265773,2.7278978 0 0 1 0,-3.8869 l 13.393027,-13.19489 a 2.7265773,2.7278978 0 0 1 1.942476,-0.78418 2.7265773,2.7278978 0 0 1 0.272622,0 2.7265773,2.7278978 0 0 1 1.601751,4.67106 l -8.656157,8.52383 33.567732,0 0,-24.44634 c 0,-6.24075 -5.098535,-11.35374 -11.382342,-11.35374 z"})))),"Exit"),o.createElement("span",{className:"user-info flex text-c2 ml-auto mr-4 font-bold text-center"},o.createElement("span",{className:"user-info__icon"},o.createElement("svg",{className:"w-5 fill-current",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 16 16"},o.createElement("path",{d:"M4.8,4.85c0,1.765,1.436,3.2,3.2,3.2s3.2-1.436,3.2-3.2C11.2,3.086,9.765,1.65,8,1.65S4.8,3.086,4.8,4.85z M8,2.65  c1.213,0,2.2,0.986,2.2,2.199S9.213,7.05,8,7.05s-2.2-0.987-2.2-2.2S6.787,2.65,8,2.65z"}),o.createElement("path",{d:"M12.1,13.85V12.5c0-2.261-1.839-4.1-4.1-4.1s-4.1,1.839-4.1,4.1v1.35h1V12.5c0-1.709,1.391-3.1,3.1-3.1s3.1,1.391,3.1,3.1  v1.35H12.1z"}))),"@",t.name)):o.createElement(i,{className:"user-info flex text-c2 ml-auto mr-4 font-bold text-center",to:"login"},o.createElement("span",{className:"user-info__icon"},o.createElement("svg",{className:"w-5 fill-current",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 16 16"},o.createElement("path",{d:"M4.8,4.85c0,1.765,1.436,3.2,3.2,3.2s3.2-1.436,3.2-3.2C11.2,3.086,9.765,1.65,8,1.65S4.8,3.086,4.8,4.85z M8,2.65  c1.213,0,2.2,0.986,2.2,2.199S9.213,7.05,8,7.05s-2.2-0.987-2.2-2.2S6.787,2.65,8,2.65z"}),o.createElement("path",{d:"M12.1,13.85V12.5c0-2.261-1.839-4.1-4.1-4.1s-4.1,1.839-4.1,4.1v1.35h1V12.5c0-1.709,1.391-3.1,3.1-3.1s3.1,1.391,3.1,3.1  v1.35H12.1z"}))),"Login"))))}var R="/assets/favicon.e5143802.svg";const H=()=>o.createElement(o.Fragment,null,o.createElement("div",{className:"sidebar-nav bg-no-repeat bg-bottom fixed z-20 bottom-0 md:top-8 w-full md:w-52 md:mt-10 bg-white md:bg-gray-100 rounded-tr-lg md:min-h-screen",style:{borderBottomRightRadius:"120px",backgroundImage:"url(/assets/pattern-01.531525b1.png)"}},o.createElement("nav",{className:"flex md:flex-col items-end md:items-center md:pt-8"},o.createElement(p,{to:"/home",activeClassName:"active text-c4",className:"nav__link"},o.createElement("span",{className:"nav__icon flex rounded w-7 p-1 mr-2"},o.createElement("svg",{className:"w-full fill-current",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M22.669,10.257l-10-9a1,1,0,0,0-1.338,0l-10,9a1,1,0,0,0,1.338,1.486L12,3.345l9.331,8.4a1,1,0,0,0,1.338-1.486Z"}),o.createElement("path",{d:"M20,13a1,1,0,0,0-1,1v5.774A1.227,1.227,0,0,1,17.774,21H6.226A1.227,1.227,0,0,1,5,19.774V14a1,1,0,0,0-2,0v5.774A3.229,3.229,0,0,0,6.226,23H17.774A3.229,3.229,0,0,0,21,19.774V14A1,1,0,0,0,20,13Z"})))," Home"),o.createElement(p,{to:"/my-videos",activeClassName:"active text-c1",className:"nav__link"},o.createElement("span",{className:"nav__icon flex rounded w-7 p-1 mr-2"},o.createElement("svg",{className:"w-full fill-current",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M14.135,4H3.865A2.868,2.868,0,0,0,1,6.865v10.27A2.868,2.868,0,0,0,3.865,20h10.27A2.868,2.868,0,0,0,17,17.135V6.865A2.868,2.868,0,0,0,14.135,4ZM15,17.135a.866.866,0,0,1-.865.865H3.865A.866.866,0,0,1,3,17.135V6.865A.866.866,0,0,1,3.865,6h10.27A.866.866,0,0,1,15,6.865Z"}),o.createElement("path",{d:"M22.472,5.118a1,1,0,0,0-1.027.05l-3,2a1,1,0,1,0,1.11,1.664L21,7.869v8.262l-1.445-.963a1,1,0,0,0-1.11,1.664l3,2A1,1,0,0,0,23,18V6A1,1,0,0,0,22.472,5.118Z"}))),"My Videos"),o.createElement(p,{to:"/upload",activeClassName:"active text-c2",className:"nav__link"},o.createElement("span",{className:"nav__icon flex rounded w-7 p-1 mr-2"},o.createElement("svg",{className:"w-full fill-current",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M22,12a1,1,0,0,0-1,1v4.34A2.663,2.663,0,0,1,18.34,20H5.66A2.663,2.663,0,0,1,3,17.34V13a1,1,0,0,0-2,0v4.34A4.666,4.666,0,0,0,5.66,22H18.34A4.666,4.666,0,0,0,23,17.34V13A1,1,0,0,0,22,12Z"}),o.createElement("path",{d:"M6.707,9.707,11,5.414V16a1,1,0,0,0,2,0V5.414l4.293,4.293a1,1,0,0,0,1.414-1.414l-6-6a1,1,0,0,0-1.414,0l-6,6A1,1,0,0,0,6.707,9.707Z"}))),"Upload"),o.createElement("span",{className:"absolute bottom-0 w-full hidden md:flex justify-end items-end"},o.createElement("img",{className:" w-52 -mr-10 mb-10",src:R,alt:"Univision Logo"}))))),M=e=>o.createElement(o.Fragment,null,o.createElement(C,null),o.createElement("div",{className:"bg-white pt-10 md:flex items-start object-contain bg-cover bg-right min-h-screen relative",style:{backgroundImage:`url(${V})`}},o.createElement("div",{className:"sidebar flex-none md:w-52"},o.createElement(H,null)),o.createElement("div",{className:"flex-grow p-4 md:p-8"},e.children))),j=({type:e,msg:t})=>o.createElement("div",{className:`bg-c1 text-white rounded py-1 px-2 mt-2 font-bold animate-bounce  ${e}`},o.createElement("p",null,t)),O=d.exports.createContext({alert:{type:"",msg:""},alertShow:()=>{}}),I=e=>{const[t,a]=d.exports.useState({email:"",password:""}),l=d.exports.useContext(O),{alert:r,alertShow:n}=l,s=d.exports.useContext(k),{msg:u,authenticated:g,userSignOn:x}=s;d.exports.useEffect((()=>{g&&e.history.push("/home"),u&&n(u.type,u.msg)}),[u,g,e.history]);const{email:f,password:v}=t,E=e=>{a(m(c({},t),{[e.target.name]:e.target.value}))};return o.createElement(o.Fragment,null,o.createElement("div",{className:"bg-white px-4 md:px-8 flex items-center object-contain bg-cover bg-right min-h-screen relative",style:{backgroundImage:`url(${V})`}},o.createElement("div",{className:"container mx-auto flex justify-center items-center"},o.createElement("div",{className:"flex lg:flex-row w-full md:w-8/12"},o.createElement("div",{className:"w-full flex place-content-center flex-col p-8 lg:p-16 rounded-tl-lg rounded-tr-lg sm:rounded-tr-none rounded-b-lg border-t-default border-l-default border-r-default md:border-r-0 border-b-default border-gray-200",style:{background:"linear-gradient(#fff 0%, #f5f5f5 100%)"}},o.createElement("img",{className:"w-32 mb-8 sm:hidden ml-auto",src:L,alt:"Univision Logo"}),o.createElement("div",{className:"lg:w-9/12 text-left"},o.createElement("h2",{className:"font-bold text-3xl lg:text-4xl xl:text-5xl leading-tight mb-2 text-c1"},"Welcome to ",o.createElement("br",{className:"flex md:hidden"}),"the video platform"),o.createElement("p",{className:"font-medium lg:text-xl mt-4 px-0 text-gray-400"},"This is a test fullstack developer by",o.createElement(i,{className:"underline hover:text-bold text-c2",to:{pathname:"https://bairon.dev"},target:"_blank"}," @bairondev "))),o.createElement("form",{className:"form__login md:mt-12 lg:w-5/6",onSubmit:e=>{e.preventDefault(),""===f.trim()||""===v.trim()?n("success","All fields are required"):x({email:f,password:v})}},o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Email"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"email",name:"email",type:"text",placeholder:"Name",value:f,onChange:E})),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Password"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"password",name:"password",type:"password",placeholder:"Password",value:v,onChange:E})),r?o.createElement(j,{type:"success",msg:r.msg}):null,o.createElement("div",{className:"mt-16 flex justify-between items-end"},o.createElement("input",{type:"submit",value:"Submit",className:"bg-c2 cursor-pointer text-white text-xl font-bold shadow-md  rounded-md py-1 px-8 text-center"}),o.createElement(p,{className:"text-gray-500 underline font-medium",to:"register"},"Register")))),o.createElement("div",{className:"text-white hidden sm:flex w-3/6 rounded-br-3xl relative border-t-default border-r-default border-b-default border-gray-200 rounded-tr-lg",style:{background:"linear-gradient(#f5f5f5 0%, #f5f5f5 55.66%, #f2f2f2 100%)",borderBottomRightRadius:"120px"}},o.createElement("span",{className:"absolute top-0 w-full flex justify-end items-end p-4"},o.createElement("img",{className:"w-32",src:L,alt:"Univision Logo"})),o.createElement("span",{className:"absolute bottom-0 w-full flex justify-end items-end"},o.createElement("img",{className:"w-36 -mr-10",src:R,alt:"Univision Logo"})))))))},Z=e=>{const t=d.exports.useContext(O),{alert:a,alertShow:l}=t,r=d.exports.useContext(k),{msg:n,authenticated:s,userRegister:u}=r;d.exports.useEffect((()=>{s&&e.history.push("/home"),n&&l(n.type,n.msg)}),[n,s,e.history]);const[g,x]=d.exports.useState({name:"",email:"",password:"",password2:""}),{name:f,email:v,password:E,password2:h}=g,w=e=>{x(m(c({},g),{[e.target.name]:e.target.value}))};return o.createElement(o.Fragment,null,o.createElement("div",{className:"bg-white px-4 md:px-8 flex items-center Register success!!-contain bg-cover bg-right min-h-screen relative",style:{backgroundImage:`url(${V})`}},o.createElement("div",{className:"container mx-auto flex justify-center items-center"},o.createElement("div",{className:"flex lg:flex-row w-full md:w-8/12"},o.createElement("div",{className:"w-full flex place-content-center flex-col p-8 lg:p-16 rounded-tl-lg rounded-tr-lg sm:rounded-tr-none rounded-b-lg border-t-default border-l-default border-r-default md:border-r-0 border-b-default border-gray-200",style:{background:"linear-gradient(#fff 0%, #f5f5f5 100%)"}},o.createElement("img",{className:"w-32 mb-8 sm:hidden ml-auto",src:L,alt:"Univision Logo"}),o.createElement("div",{className:"lg:w-9/12 text-left"},o.createElement("h2",{className:"font-bold text-3xl lg:text-4xl xl:text-5xl leading-tight mb-2 text-c1"},"Welcome to ",o.createElement("br",{className:"flex md:hidden"}),"the video platform"),o.createElement("p",{className:"font-medium lg:text-xl mt-4 px-0 text-gray-400"},"This is a test fullstack developer by",o.createElement(i,{className:"underline hover:text-bold text-c2",to:{pathname:"https://bairon.dev"},target:"_blank"}," @bairondev "))),o.createElement("form",{className:"form__login md:mt-12 lg:w-5/6",onSubmit:e=>{e.preventDefault(),""===f.trim()||""===v.trim()||""===E.trim()||""===h.trim()?l("succes","All fields are required"):E.length>=6?E===h?u({name:f,email:v,password:E}):l("succes","The password are not equal"):l("succes","Password must have a minimum 6 characters")}},o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Name"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"name",name:"name",type:"text",placeholder:"Name",value:f,onChange:w})),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Email"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"email",name:"email",type:"text",placeholder:"Name",value:v,onChange:w})),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Password"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"password",name:"password",type:"password",placeholder:"Password",value:E,onChange:w})),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Confirm Password"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"password2",name:"password2",type:"password",placeholder:"Password",value:h,onChange:w})),a?o.createElement(j,{type:a.type,msg:a.msg}):null,o.createElement("div",{className:"mt-16 flex justify-between items-end"},o.createElement("input",{type:"submit",value:"Submit",className:"bg-c2 cursor-pointer text-white text-xl font-bold shadow-md  rounded-md py-1 px-8 text-center"}),o.createElement(p,{className:"text-gray-500 underline font-medium",to:"login"},"Login")))),o.createElement("div",{className:"text-white hidden sm:flex w-3/6 rounded-br-3xl relative border-t-default border-r-default border-b-default border-gray-200 rounded-tr-lg",style:{background:"linear-gradient(#f5f5f5 0%, #f5f5f5 55.66%, #f2f2f2 100%)",borderBottomRightRadius:"120px"}},o.createElement("span",{className:"absolute top-0 w-full flex justify-end items-end p-4"},o.createElement("img",{className:"w-32",src:L,alt:"Univision Logo"})),o.createElement("span",{className:"absolute bottom-0 w-full flex justify-end items-end"},o.createElement("img",{className:"w-36 -mr-10",src:R,alt:"Univision Logo"})))))))};const z=o.createElement("svg",{className:"w-5 fill-current mr-2",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M22,12a1,1,0,0,0-1,1v4.34A2.663,2.663,0,0,1,18.34,20H5.66A2.663,2.663,0,0,1,3,17.34V13a1,1,0,0,0-2,0v4.34A4.666,4.666,0,0,0,5.66,22H18.34A4.666,4.666,0,0,0,23,17.34V13A1,1,0,0,0,22,12Z"}),o.createElement("path",{d:"M6.707,9.707,11,5.414V16a1,1,0,0,0,2,0V5.414l4.293,4.293a1,1,0,0,0,1.414-1.414l-6-6a1,1,0,0,0-1.414,0l-6,6A1,1,0,0,0,6.707,9.707Z"})),U=()=>{const e=d.exports.useContext(O),{alert:t,alertShow:a}=e,[l,r]=d.exports.useState({name:"",description:"",category:"public",video:{id:"",url:""}}),{name:n,description:s,category:u,video:p}=l,[g,x]=d.exports.useState(!1),[f,v]=d.exports.useState(!1),E=e=>{e.preventDefault(),r(m(c({},l),{[e.target.name]:e.target.value}))};return o.createElement(o.Fragment,null,o.createElement("section",{className:"bg-white border-default rounded-lg h-full px-4 md:px-8 py-4 mt-4 md:mt-2"},o.createElement(w,{name:"Upload",icon:z,url:""}),f?o.createElement("div",{className:"loading-video bg-white",style:{minHeight:"70vh"}},o.createElement("div",{className:"flex-column justify-center items-center relative w-full"},o.createElement("div",{className:"absolute z-10 w-full"},o.createElement("div",{className:"absolute w-full"},o.createElement("p",{className:"text-center text-c1 font-bold pt-10 mt-24"},"...Uploading video...")),o.createElement("img",{className:"min-w-lg mx-auto",src:"/assets/load-video.7d0378dc.gif",alt:"Load VIdeo"})))):o.createElement("div",{className:"upload"},o.createElement("form",{className:"upload-content lg:flex",onSubmit:async e=>{if(e.preventDefault(),""!==n.trim()&&""!==s.trim()&&""!==u.trim()&&g){v(!0);const e={file:p,upload_preset:"univisiontest"},t=await _.post("/video/upload",e);console.log("cloudinary:",t.data.asset_id,t.data.url);const{asset_id:a,url:l}=t.data;""!==a?(async e=>{try{await y.post("/api/videos",e),r({name:"",description:"",category:"public",video:{id:"",url:""}}),x(!1),v(!1)}catch(t){console.log(t)}})({name:n,description:s,category:u,video:{id:a,url:l}}):console.log("Error load video data")}else a("success","All fields are required")}},o.createElement("div",{className:"lg:w-1/2 md:px-4 mt-4"},o.createElement("div",{className:"upload-video flex flex-col justify-center items-center border-default border-gray-300 w-full lg:h-80 p-8 rounded"},o.createElement("p",{className:"text-c2"},"Select Video"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"video",name:"video",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=new FileReader;t.onload=e=>{x(!0),r(m(c({},l),{video:e.target.result}))},t.readAsDataURL(e.target.files[0])}}}))),o.createElement("div",{className:"upload-form px-4 lg:w-1/2"},o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Name"),o.createElement("input",{className:"form-input mt-1 block w-full",id:"name",name:"name",type:"text",placeholder:"name",value:n,onChange:E})),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Description"),o.createElement("textarea",{className:"form-input mt-1 block w-full h-40",id:"description",name:"description",placeholder:"Description",value:s,onChange:E}," ")),o.createElement("div",{className:"mt-4"},o.createElement("span",{className:"text-c2"},"Category"),o.createElement("select",{className:"form-input mt-1 block w-full",id:"category",name:"category",value:u,onChange:E},o.createElement("option",{value:"public"},"Public "),o.createElement("option",{value:"private"},"Private"))),t?o.createElement(j,{type:t.type,msg:t.msg}):null,o.createElement("div",{className:"mt-16 flex justify-between items-end"},o.createElement("button",{className:"bg-c2 text-white text-xl font-bold shadow-md  rounded-md py-1 px-8 text-center"},"Upload"),o.createElement(i,{className:"bg-c3 text-white text-xl font-bold shadow-md  rounded-md py-1 px-8 text-center",to:"/my-videos"},"Cancel")))))))},B=o.createElement("svg",{className:"w-5 fill-current mr-2",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M14.135,4H3.865A2.868,2.868,0,0,0,1,6.865v10.27A2.868,2.868,0,0,0,3.865,20h10.27A2.868,2.868,0,0,0,17,17.135V6.865A2.868,2.868,0,0,0,14.135,4ZM15,17.135a.866.866,0,0,1-.865.865H3.865A.866.866,0,0,1,3,17.135V6.865A.866.866,0,0,1,3.865,6h10.27A.866.866,0,0,1,15,6.865Z"}),o.createElement("path",{d:"M22.472,5.118a1,1,0,0,0-1.027.05l-3,2a1,1,0,1,0,1.11,1.664L21,7.869v8.262l-1.445-.963a1,1,0,0,0-1.11,1.664l3,2A1,1,0,0,0,23,18V6A1,1,0,0,0,22.472,5.118Z"})),P=()=>{let e=!1;const[t,a]=d.exports.useState([]);return d.exports.useEffect((()=>{(async()=>{try{const t=await y.get("/api/videos/me");e=!0,a(t.data)}catch(t){console.log(t)}})()}),[e]),o.createElement(o.Fragment,null,o.createElement("section",{className:"bg-white border-default rounded-lg h-full px-4 md:px-8 py-4 mt-4 md:mt-2",style:{minHeight:"90vh"}},o.createElement("div",{className:"max-w-screen-xl"},o.createElement(w,{name:"My Videos",icon:B,url:""}),0===t.length?o.createElement("div",{className:"info flex justify-center items-center",style:{minHeight:"70vh"}},o.createElement("div",{className:"max-w-md flex-column justify-center items-center text-gray-500"},o.createElement("span",{className:"info-icon block w-32 md:w-40 mx-auto"},o.createElement("svg",{className:"fill-current w-full",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 512 512"},o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M111.302,494c-0.568,0-1.14-0.121-1.673-0.367c-1.298-0.599-2.179-1.844-2.31-3.268L99.4,404H30c-2.209,0-4-1.791-4-4      V30c0-2.209,1.791-4,4-4h460c2.209,0,4,1.791,4,4v370c0,2.209-1.791,4-4,4H239.758l-126.145,89.266      C112.926,493.752,112.116,494,111.302,494z M34,396h69.05c2.067,0,3.794,1.576,3.983,3.635l7.619,83.095l121.523-85.995      c0.676-0.478,1.483-0.734,2.311-0.734H486V34H34V396z"})),o.createElement("g",null,o.createElement("path",{d:"M450,324H70c-2.209,0-4-1.791-4-4V70c0-2.209,1.791-4,4-4h380c2.209,0,4,1.791,4,4v250C454,322.209,452.209,324,450,324      z M74,316h372V74H74V316z"})),o.createElement("g",null,o.createElement("path",{d:"M208.49,284c-0.69,0-1.381-0.179-2-0.536c-1.238-0.714-2-2.035-2-3.464V116.599c0-1.429,0.762-2.75,2-3.464      c1.237-0.715,2.763-0.715,4,0L352,194.835c1.237,0.714,2,2.035,2,3.464s-0.763,2.75-2,3.464l-141.51,81.701      C209.872,283.821,209.181,284,208.49,284z M212.49,123.527v149.545L342,198.299L212.49,123.527z"}))))))),o.createElement("h3",{className:"text-center mt-4 font-bold text-xl"},"You still have no videos :("),o.createElement(p,{className:"bg-c2 block text-center cursor-pointer text-white text-xl font-bold shadow-md mt-4 rounded-md py-1 px-8",to:"upload"},"Create video"))):o.createElement(o.Fragment,null,o.createElement("div",{className:"videos__list grid lg:grid-cols-2 gap-6"},t.map(((e,t)=>o.createElement(N,{key:t,view:"videos",videoData:e}))))))))},D=o.createElement("svg",{className:"w-5 fill-current mr-2",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 2",viewBox:"0 0 24 24",x:"0px",y:"0px"},o.createElement("path",{d:"M14.135,4H3.865A2.868,2.868,0,0,0,1,6.865v10.27A2.868,2.868,0,0,0,3.865,20h10.27A2.868,2.868,0,0,0,17,17.135V6.865A2.868,2.868,0,0,0,14.135,4ZM15,17.135a.866.866,0,0,1-.865.865H3.865A.866.866,0,0,1,3,17.135V6.865A.866.866,0,0,1,3.865,6h10.27A.866.866,0,0,1,15,6.865Z"}),o.createElement("path",{d:"M22.472,5.118a1,1,0,0,0-1.027.05l-3,2a1,1,0,1,0,1.11,1.664L21,7.869v8.262l-1.445-.963a1,1,0,0,0-1.11,1.664l3,2A1,1,0,0,0,23,18V6A1,1,0,0,0,22.472,5.118Z"})),F=e=>{const[t,a]=d.exports.useState(!1),[l,r]=d.exports.useState({_id:"",author:"",category:"",created:"",description:"",name:"",video:{id:"",url:""}}),{_id:n,author:s,category:c,created:m,description:i,name:u,video:p}=l;return d.exports.useEffect((()=>{(async e=>{try{const t=await y.get(`/api/videos/preview/${e}`);a(!0),r(t.data)}catch(t){console.log(t)}})(e.match.params.id)}),[t]),o.createElement(o.Fragment,null,o.createElement("section",{className:"bg-white border-default rounded-lg h-full px-4 md:px-8 py-4 mt-4 md:mt-2",style:{minHeight:"90vh"}},o.createElement(w,{name:"Video",icon:D,url:"/my-videos"}),t?o.createElement("section",{className:"max-w-4xl"},o.createElement("div",null,o.createElement(g.ReactVideo,{src:p.url,poster:b,height:"auto",primaryColor:"#00CC81"})),o.createElement("div",{className:"video flex py-4"},o.createElement("div",{className:"video__content w-full px-4"},o.createElement("div",{className:"video__option flex justify-between"},o.createElement("span",{className:"m-1 bg-c1 p-1 text-white text-sm rounded-md"},c),o.createElement("span",{className:"video__date text-sm text-c2"},"Published: ",m)),o.createElement("h3",{className:"video__title text-md sm:text-2xl font-bold leading-tight mt-4 mb-2 uppercase"},u),o.createElement("p",{className:"video__par text-sm sm:text-base text-gray-400 lowercase"},i)))):o.createElement("p",null,"loading...")))};var T=(e,t)=>{switch(t.type){case"ALERT_SHOW":return{alert:t.payload};case"ALERT_HIDDEN":return{alert:null};default:return e}};const G=e=>{const[t,a]=d.exports.useReducer(T,{alert:null});return o.createElement(O.Provider,{value:{alert:t.alert,alertShow:(e,t)=>{a({type:"ALERT_SHOW",payload:{type:e,msg:t}}),setTimeout((()=>{a({type:"ALERT_HIDDEN"})}),3e3)}}},e.children)};var $=(e,t)=>{switch(t.type){case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),m(c({},e),{authenticated:!0,msg:null,load:!1});case"USER_LOAD":return m(c({},e),{authenticated:!0,user:t.payload,load:!1});case"SIGN_OFF":case"LOGIN_ERROR":case"REGISTER_ERROR":return localStorage.removeItem("token"),m(c({},e),{token:null,user:null,authenticated:null,msg:t.payload,load:!1});default:return e}};const q=e=>{e?y.defaults.headers.common["x-auth-token"]=e:delete y.defaults.headers.common["x-auth-token"]},W=e=>{const t={token:localStorage.getItem("token"),authenticated:null,user:null,msg:null,load:!0},[a,l]=d.exports.useReducer($,t),r=async()=>{const e=localStorage.getItem("token");e&&q(e);try{const e=await y.get("/api/auth");l({type:"USER_LOAD",payload:e.data.user})}catch(t){console.log(t.response),l({type:"LOGIN_ERROR"})}};return o.createElement(k.Provider,{value:{token:a.token,authenticated:a.authenticated,user:a.user,msg:a.msg,load:a.load,userRegister:async e=>{try{const t=await y.post("/api/user",e);console.log(t.data),l({type:"REGISTER_SUCCESS",payload:t.data}),r()}catch(t){console.log(t.response.data.msg);const e={type:"alert-error",msg:t.response.data.msg};l({type:"REGISTER_ERROR",payload:e})}},userSignOn:async e=>{try{const t=await y.post("/api/auth",e);l({type:"LOGIN_SUCCESS",payload:t.data}),r()}catch(t){console.log(t.response.data.msg);const e={type:"alert-error",msg:t.response.data.msg};l({type:"LOGIN_ERROR",payload:e})}},userAuthenticated:r,userSignOff:()=>{l({type:"SIGN_OFF"})}}},e.children)},Y=e=>{var t=e,{component:a}=t,s=((e,t)=>{var a={};for(var s in e)r.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&l)for(var s of l(e))t.indexOf(s)<0&&n.call(e,s)&&(a[s]=e[s]);return a})(t,["component"]);const i=d.exports.useContext(k),{authenticated:u,load:p,userAuthenticated:g}=i;return d.exports.useEffect((()=>{g()}),[]),o.createElement(x,m(c({},s),{render:e=>u||p?o.createElement(a,c({},e)):o.createElement(f,{to:"/login"})}))},J=localStorage.getItem("token");function K(){return o.createElement(W,null,o.createElement(G,null,o.createElement(v,null,o.createElement(E,null,o.createElement(x,{exact:!0,path:"/login",component:I}),o.createElement(x,{exact:!0,path:"/register",component:Z}),o.createElement(M,null,o.createElement(Y,{exact:!0,path:"/",component:S}),o.createElement(Y,{exact:!0,path:"/home",component:S}),o.createElement(Y,{exact:!0,path:"/my-videos",component:P}),o.createElement(Y,{exact:!0,path:"/video/:id",component:F}),o.createElement(Y,{exact:!0,path:"/upload",component:U}))))))}J&&q(J),h.render(o.createElement(o.StrictMode,null,o.createElement(K,null)),document.getElementById("root"));
